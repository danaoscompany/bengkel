<!--

=========================================================
* Argon Dashboard - v1.1.1
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-dashboard
* Copyright 2019 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard/blob/master/LICENSE.md)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>
        Bengkel Manager
    </title>
    <!-- Favicon -->
    <link href="../assets/img/brand/favicon.png" rel="icon" type="image/png">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
    <!-- Icons -->
    <link href="../assets/js/plugins/nucleo/css/nucleo.css" rel="stylesheet"/>
    <link href="../assets/js/plugins/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet"/>
    <!-- CSS Files -->
    <link href="../assets/css/argon-dashboard.css?v=1.1.1" rel="stylesheet"/>
</head>

<body class="">
<nav class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white" id="sidenav-main">
    <div class="container-fluid">
        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#sidenav-collapse-main"
                aria-controls="sidenav-main" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Brand -->
        <a class="navbar-brand pt-0" href="../index.html">
            <img src="../assets/img/logo.png" class="navbar-brand-img" alt="...">
        </a>
        <!-- User -->
        <ul class="nav align-items-center d-md-none">
            <li class="nav-item dropdown">
                <a class="nav-link nav-link-icon" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    <i class="ni ni-bell-55"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right"
                     aria-labelledby="navbar-default_dropdown_1">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">Something else here</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">
                    <div class="media align-items-center">
              <span class="avatar avatar-sm rounded-circle">
                <img alt="Image placeholder" src="../assets/img/theme/team-1-800x800.jpg
">
              </span>
                    </div>
                </a>
                <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right">
                    <div class=" dropdown-header noti-title">
                        <h6 class="text-overflow m-0">Welcome!</h6>
                    </div>
                    <a href="./examples/profile.html" class="dropdown-item">
                        <i class="ni ni-single-02"></i>
                        <span>My profile</span>
                    </a>
                    <a href="./examples/profile.html" class="dropdown-item">
                        <i class="ni ni-settings-gear-65"></i>
                        <span>Settings</span>
                    </a>
                    <a href="./examples/profile.html" class="dropdown-item">
                        <i class="ni ni-calendar-grid-58"></i>
                        <span>Activity</span>
                    </a>
                    <a href="./examples/profile.html" class="dropdown-item">
                        <i class="ni ni-support-16"></i>
                        <span>Support</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#!" class="dropdown-item">
                        <i class="ni ni-user-run"></i>
                        <span>Logout</span>
                    </a>
                </div>
            </li>
        </ul>
        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="sidenav-collapse-main">
            <!-- Collapse header -->
            <div class="navbar-collapse-header d-md-none">
                <div class="row">
                    <div class="col-6 collapse-brand">
                        <a href="../index.html">
                            <img src="../assets/img/brand/blue.png">
                        </a>
                    </div>
                    <div class="col-6 collapse-close">
                        <button type="button" class="navbar-toggler" data-toggle="collapse"
                                data-target="#sidenav-collapse-main" aria-controls="sidenav-main" aria-expanded="false"
                                aria-label="Toggle sidenav">
                            <span></span>
                            <span></span>
                        </button>
                    </div>
                </div>
            </div>
            <!-- Form -->
            <form class="mt-4 mb-3 d-md-none">
                <div class="input-group input-group-rounded input-group-merge">
                    <input type="search" class="form-control form-control-rounded form-control-prepended"
                           placeholder="Search" aria-label="Search">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <span class="fa fa-search"></span>
                        </div>
                    </div>
                </div>
            </form>
            <!-- Navigation -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link " href="common.html">
                        <i class="ni ni-settings-gear-65 text-blue"></i> Umum
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="admins.html">
                        <i class="ni ni-single-02 text-teal"></i> Admin
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="users.html">
                        <i class="ni ni-single-02 text-yellow"></i> Pengguna
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="technicians.html">
                        <i class="ni ni-single-02 text-red"></i> Teknisi
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="complaint.html">
                        <i class="ni ni-notification-70 text-blue"></i> Komplain
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="orders.html">
                        <i class="ni ni-bag-17 text-green"></i> Order
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="categories.html">
                        <i class="ni ni-tag text-red"></i> Kategori AC
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="categories.html">
                        <i class="ni ni-tag text-red"></i> Kategori Produk
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="subcategories.html">
                        <i class="ni ni-tag text-yellow"></i> SubKategori
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="subsubcategories.html">
                        <i class="ni ni-tag text-blue"></i> Sub Subkategori
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="products.html">
                        <i class="ni ni-tag text-purple"></i> Produk
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="purchases.html">
                        <i class="ni ni-tag text-yellow"></i> Pembelian
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="inventory.html">
                        <i class="ni ni-tag text-green"></i> Data Inventaris
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="debts.html">
                        <i class="ni ni-money-coins text-blue"></i> Hutang
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="lends.html">
                        <i class="ni ni-money-coins text-yellow"></i> Piutang
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="services.html">
                        <i class="ni ni-support-16 text-blue"></i> Layanan
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="prices.html">
                        <i class="ni ni-money-coins text-green"></i> Biaya Teknisi
                    </a>
                </li>
            </ul>
            <!-- Divider -->
            <hr class="my-3">
            <!-- Heading -->
            <h6 class="navbar-heading text-muted">Akun</h6>
            <!-- Navigation -->
            <ul class="navbar-nav mb-md-3">
                <li class="nav-item">
                    <a class="nav-link"
                       data-toggle="modal"
                       href="#logoutConfirmModal">
                        <i class="ni ni-user-run"></i> Keluar
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="main-content">
    <!-- Navbar -->
    <nav class="navbar navbar-top navbar-expand-md navbar-dark" id="navbar-main">
        <div class="container-fluid">
            <!-- Brand -->
            <a class="h4 mb-0 text-white text-uppercase d-none d-lg-inline-block" href="products.html">Pengeluaran</a>
            <!-- Form -->
            <form class="navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto">
                <div class="form-group mb-0">
                    <div class="input-group input-group-alternative">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-search"></i></span>
                        </div>
                        <input class="form-control" placeholder="Search" type="text">
                    </div>
                </div>
            </form>
            <!-- User -->
            <ul class="navbar-nav align-items-center d-none d-md-flex">
                <li class="nav-item dropdown">
                    <a class="nav-link pr-0" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                       aria-expanded="false">
                        <div class="media align-items-center">
                <span class="avatar avatar-sm rounded-circle">
                  <img alt="Image placeholder" src="../assets/img/profile_picture_placeholder.png"
                       style="border-radius: 50%;">
                </span>
                            <div class="media-body ml-2 d-none d-lg-block">
                                <span class="mb-0 text-sm  font-weight-bold">Admin</span>
                            </div>
                        </div>
                    </a>
                    <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right">
                        <div class=" dropdown-header noti-title">
                            <h6 class="text-overflow m-0">Welcome!</h6>
                        </div>
                        <a href="/profile.html" class="dropdown-item">
                            <i class="ni ni-single-02"></i>
                            <span>My profile</span>
                        </a>
                        <a href="/profile.html" class="dropdown-item">
                            <i class="ni ni-settings-gear-65"></i>
                            <span>Settings</span>
                        </a>
                        <a href="/profile.html" class="dropdown-item">
                            <i class="ni ni-calendar-grid-58"></i>
                            <span>Activity</span>
                        </a>
                        <a href="/profile.html" class="dropdown-item">
                            <i class="ni ni-support-16"></i>
                            <span>Support</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#!" class="dropdown-item">
                            <i class="ni ni-user-run"></i>
                            <span>Logout</span>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <!-- End Navbar -->
    <!-- Header -->
    <div class="header bg-gradient-primary pb-8 pt-5 pt-md-8">
        <div class="container-fluid">
            <div class="header-body">
            </div>
        </div>
    </div>
    <div class="container-fluid mt--7">
        <a onclick="showAddProductDialog()" data-toggle="modal" data-target="#addProductModal" href="#" class="btn btn-sm btn-info mr-3" style="margin-top: 20px;">
            Tambah Pengeluaran
        </a>
        <!-- Modal -->
        <div class="modal fade" id="editProductModal" tabindex="-1" role="dialog" aria-labelledby="editProductModalLabel"
             aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="editProductModalLabel">Ubah Pengeluaran</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form role="form">
                            <div class="form-group mb-3">
                                <div>Jumlah:</div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <div class="input-group input-group-alternative">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <input id="edit-amount" class="form-control" placeholder="Jumlah" type="number" value="0">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mb-3">
                                <div>Tipe pengeluaran:</div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <div class="input-group input-group-alternative">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <select id="edit-type" class="form-control" data-toggle="select" title="Pilih tipe" data-live-search="true" data-live-search-placeholder="Search ..." style="margin-top: 10px;">
                                            <option>Gaji</option>
                                            <option>Telekomunikasi</option>
                                            <option>BBM</option>
                                            <option>Internet</option>
                                            <option>ATK</option>
                                            <option>Lain-lain</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div id="edit-type-name-container" class="form-group mb-3" style="display: none;">
                                <div>Tipe pengeluaran (masukkan jika memilih Lain-lain):</div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <div class="input-group input-group-alternative">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <input id="edit-type-name" class="form-control" placeholder="Tipe pengeluaran" type="text" value="0">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mb-3">
                                <div>Tanggal:</div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <div class="input-group input-group-alternative">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <input id="edit-date" class="form-control datepicker" placeholder="Pilih Tanggal" type="text" value="">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mb-3">
                                <div>Waktu:</div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <div class="input-group input-group-alternative">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <input id="edit-hour" class="form-control" placeholder="00" type="number" value="" style="width: 50px;" min="0" max-="23">
                                        <input id="edit-minute" class="form-control" placeholder="00" type="number" value="" style="width: 50px;" min="0" max="59">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button onclick="editInventory()" type="button" class="btn btn-primary" data-dismiss="modal">Ubah</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Tutup</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="addProductModal" tabindex="-1" role="dialog" aria-labelledby="addProductModalLabel"
             aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="addProductModalLabel">Tambah Pengeluaran</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form role="form">
                            <div class="form-group mb-3">
                                <div>Jumlah:</div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <div class="input-group input-group-alternative">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <input id="amount" class="form-control" placeholder="Jumlah" type="number" value="0">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mb-3">
                                <div>Tipe pengeluaran:</div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <div class="input-group input-group-alternative">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <select id="type" class="form-control" data-toggle="select" title="Pilih tipe" data-live-search="true" data-live-search-placeholder="Search ..." style="margin-top: 10px;">
                                            <option>Gaji</option>
                                            <option>Telekomunikasi</option>
                                            <option>BBM</option>
                                            <option>Internet</option>
                                            <option>ATK</option>
                                            <option>Lain-lain</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div id="type-name-container" class="form-group mb-3" style="display: none;">
                                <div>Tipe pengeluaran (masukkan jika memilih Lain-lain):</div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <div class="input-group input-group-alternative">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <input id="type-name" class="form-control" placeholder="Tipe pengeluaran" type="text" value="0">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mb-3">
                                <div>Tanggal:</div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <div class="input-group input-group-alternative">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <input id="date" class="form-control datepicker" placeholder="Pilih Tanggal" type="text" value="">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mb-3">
                                <div>Waktu:</div>
                                <div class="form-group" style="margin-top: 10px;">
                                    <div class="input-group input-group-alternative">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <input id="hour" class="form-control" placeholder="00" type="number" value="" style="width: 50px;" min="0" max-="23">
                                        <input id="minute" class="form-control" placeholder="00" type="number" value="" style="width: 50px;" min="0" max="59">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button onclick="addInventory()" type="button" class="btn btn-primary" data-dismiss="modal">Tambah</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Tutup</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Delete Modal -->
        <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel"
             aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="deleteModalLabel">Hapus Pengeluaran</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        Apakah Anda yakin ingin menghapus pengeluaran berikut?
                    </div>
                    <div class="modal-footer">
                        <button onclick="deleteProduct()" type="button" class="btn btn-primary" data-dismiss="modal">Ya
                        </button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Tidak</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Logout Confirm Modal -->
        <div class="modal fade" id="logoutConfirmModal" tabindex="-1" role="dialog"
             aria-labelledby="logoutConfirmModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="logoutConfirmModalLabel">Hapus Pengguna</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        Apakah Anda yakin ingin keluar dari panel admin ini?
                    </div>
                    <div class="modal-footer">
                        <button onclick="logout()" type="button" class="btn btn-primary" data-dismiss="modal">Ya
                        </button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Tidak</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Loading Modal -->
        <div class="modal fade" id="loadingModal" tabindex="-1" role="dialog" aria-labelledby="loadingModalLabel"
             aria-hidden="false"
             data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="loadingModalLabel">Memuat</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        Memuat...
                    </div>
                </div>
            </div>
        </div>
        <!-- Table -->
        <div class="row" style="margin-top: 30px; margin-bottom: 50px;">
            <div class="col">
                <div class="card shadow">
                    <div class="card-header border-0">
                        <h3 class="mb-0">Pengeluaran</h3>
                    </div>
                    <div class="table-responsive">
                        <table class="table align-items-center table-flush">
                            <thead class="thead-light">
                            <tr>
                                <th scope="col">Jumlah</th>
                                <th scope="col">Tipe</th>
                                <th scope="col">Tanggal</th>
                                <th scope="col"></th>
                            </tr>
                            </thead>
                            <tbody id="inventories">
                            <!--<tr>
                                <th scope="row">
                                    <div class="media align-items-center">
                                        <a href="#" class="avatar rounded-circle mr-3">
                                            <img alt="Image placeholder" src="../assets/img/theme/bootstrap.jpg">
                                        </a>
                                        <div class="media-body">
                                            <span class="mb-0 text-sm">Nama Barang</span>
                                        </div>
                                    </div>
                                </th>
                                <td>
                                    $2,500 USD
                                </td>
                                <td>
                      <span class="badge badge-dot mr-4">
                        <i class="bg-warning"></i> pending
                      </span>
                                </td>
                                <td>
                                    <div class="avatar-group">
                                        <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Ryan Tompson">
                                            <img alt="Image placeholder" src="../assets/img/theme/team-1-800x800.jpg" class="rounded-circle">
                                        </a>
                                        <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Romina Hadid">
                                            <img alt="Image placeholder" src="../assets/img/theme/team-2-800x800.jpg" class="rounded-circle">
                                        </a>
                                        <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Alexander Smith">
                                            <img alt="Image placeholder" src="../assets/img/theme/team-3-800x800.jpg" class="rounded-circle">
                                        </a>
                                        <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Jessica Doe">
                                            <img alt="Image placeholder" src="../assets/img/theme/team-4-800x800.jpg" class="rounded-circle">
                                        </a>
                                    </div>
                                </td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <span class="mr-2">60%</span>
                                        <div>
                                            <div class="progress">
                                                <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td class="text-right">
                                    <div class="dropdown">
                                        <a class="btn btn-sm btn-icon-only text-light" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                                            <a class="dropdown-item" href="#">Action</a>
                                            <a class="dropdown-item" href="#">Another action</a>
                                            <a class="dropdown-item" href="#">Something else here</a>
                                        </div>
                                    </div>
                                </td>
                            </tr>-->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer -->
        <!--<footer class="footer">
            <div class="row align-items-center justify-content-xl-between">
                <div class="col-xl-6">
                    <div class="copyright text-center text-xl-left text-muted">
                        &copy; 2018 <a href="https://www.creative-tim.com" class="font-weight-bold ml-1"
                                       target="_blank">Creative Tim</a>
                    </div>
                </div>
                <div class="col-xl-6">
                    <ul class="nav nav-footer justify-content-center justify-content-xl-end">
                        <li class="nav-item">
                            <a href="https://www.creative-tim.com" class="nav-link" target="_blank">Creative Tim</a>
                        </li>
                        <li class="nav-item">
                            <a href="https://www.creative-tim.com/presentation" class="nav-link" target="_blank">About
                                Us</a>
                        </li>
                        <li class="nav-item">
                            <a href="http://blog.creative-tim.com" class="nav-link" target="_blank">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a href="https://github.com/creativetimofficial/argon-dashboard/blob/master/LICENSE.md"
                               class="nav-link" target="_blank">MIT License</a>
                        </li>
                    </ul>
                </div>
            </div>
        </footer>-->
    </div>
</div>
<!--   Core   -->
<script src="../assets/js/plugins/jquery/dist/jquery.min.js"></script>
<script src="../assets/js/plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<script src="../assets/js/plugins/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<!--   Optional JS   -->
<!--   Argon JS   -->
<script src="../assets/js/argon-dashboard.min.js?v=1.1.1"></script>
<script src="https://cdn.trackjs.com/agent/v3/latest/t.js"></script>
<script src="../js/global.js"></script>
<script src="../js/moment.js"></script>
<script>
    var currentProductID = 0;
    var imageFile;
    var customers;
    var allProducts;
    var addedProducts = [];
    window.TrackJS &&
    TrackJS.install({
        token: "ee6fab19c5a04ac1a32a645abde4613a",
        application: "argon-dashboard-free"
    });
    var purchases = [];
    var imageChanged = 0;

    $(document).ready(function () {
        var fd = new FormData();
        fd.append("name", "users");
        $.ajax({
            type: 'POST',
            url: PHP_URL+'get.php',
            data: fd,
            processData: false,
            contentType: false,
            cache: false,
            success: function(response) {
                customers = JSON.parse(response);
                for (var i=0; i<customers.length; i++) {
                    var categoryJSON = customers[i];
                    $("#customers").append("<option>"+categoryJSON["name"]+"</option>");
                    $("#edit-inventory-customers").append("<option>"+categoryJSON["name"]+"</option>");
                }
            }
        });
        fd = new FormData();
        fd.append("name", "products");
        $.ajax({
            type: 'POST',
            url: PHP_URL+'get.php',
            data: fd,
            processData: false,
            contentType: false,
            cache: false,
            success: function(response) {
                allProducts = JSON.parse(response);
            }
        });
        getInventories();
    });

    function getInventories() {
        $("#inventories").find("*").remove();
        purchases = [];
        $.ajax({
            type: 'GET',
            url: PHP_URL + 'get-outcomes.php',
            dataType: 'text',
            cache: false,
            success: function (response) {
                purchases = JSON.parse(response);
                for (var i = 0; i < purchases.length; i++) {
                    var outcome = purchases[i];
                    var type = parseInt(outcome["type"]);
                    if (type == 0) {
                        type = outcome["type_name"];
                    } else if (type == 1) {
                        type = "Gaji";
                    } else if (type == 2) {
                        type = "Telekomunikasi";
                    } else if (type == 3) {
                        type = "BBM";
                    } else if (type == 4) {
                        type = "Internet";
                    } else if (type == 5) {
                        type = "ATK";
                    }
                    $("#inventories").append(
                        "<tr>" +
                        "<td>" +
                        "Rp"+outcome["amount"]+",-"+
                        "</td>" +
                        "<td>" +
                        type+
                        "</td>" +
                        "<td>" +
                        "<span class='badge badge-dot mr-4'>" +
                        moment(outcome["date"], 'YYYY-MM-DD HH:mm:ss').lang('id').format('DD MMMM YYYY HH:mm:ss') +
                        "</span>" +
                        "</td>" +
                        "<td class='text-right'>" +
                        "<div class='dropdown'>" +
                        "<a class='btn btn-sm btn-icon-only text-light' href='#' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false'>" +
                        "<i class='fas fa-ellipsis-v'></i>" +
                        "</a>" +
                        "<div class='dropdown-menu dropdown-menu-right dropdown-menu-arrow'>" +
                        "<a data-id='"+outcome["id"]+"' data-toggle='modal' class='edit dropdown-item' href='#editProductModal'>Ubah</a>" +
                        "<a data-id='"+outcome["id"]+"' data-toggle='modal' class='delete dropdown-item' href='#deleteModal'>Hapus</a>" +
                        "</div>" +
                        "</div>" +
                        "</td>" +
                        "</tr>"
                    );
                }
                $(".edit").on("click", function () {
                    imageChanged = 0;
                    var id = $(this).data('id');
                    currentProductID = parseInt(id);
                    var fd = new FormData();
                    fd.append("name", "product_purchases");
                    fd.append("id", id);
                    $.ajax({
                        type: 'POST',
                        url: PHP_URL+'get-by-id.php',
                        data: fd,
                        processData: false,
                        contentType: false,
                        cache: false,
                        success: function(response) {
                            var userInfo = JSON.parse(response)[0];
                            $("#edit-inventory-date").val(moment(userInfo["date"], 'YYYY-MM-DD HH:mm:ss').lang('id').format('MM/DD/YYYY'));
                            $("#edit-inventory-time").val(moment(userInfo["date"], 'YYYY-MM-DD HH:mm:ss').lang('id').format('HH:mm:ss'));
                            $("#edit-inventory-paid").prop('selectedIndex', parseInt(userInfo["paid"]));
                            var products = JSON.parse(userInfo["products"]);
                            for (let i=0; i<customers.length; i++) {
                                if (customers[i]["id"] == parseInt(userInfo["user_id"])) {
                                    $("#edit-inventory-customers").prop('selectedIndex', i);
                                    break;
                                }
                            }
                            addedProducts = [];
                            $("#edit-inventory-products").find("*").remove();
                            var options = "";
                            var productIndex = 0;
                            for (let i=0; i<allProducts.length; i++) {
                                var productJSON = allProducts[i];
                                options += ("<option id='option-"+i+"'>"+productJSON["name"]+"</option>");
                            }
                            for (let i=0; i<products.length; i++) {
                                var product = products[i];
                                productIndex = 0;
                                for (let j=0; j<allProducts.length; j++) {
                                    if (product["id"] == allProducts[j]["id"]) {
                                        productIndex = i;
                                        break;
                                    }
                                }
                                var inventoryID = $("#edit-inventory-products").children().length;
                                $("#edit-inventory-products").append(
                                    '<select id="products-'+$("#edit-inventory-products").children().length+'" class="form-control products" data-toggle="select" title="Simple select" data-live-search="true" data-live-search-placeholder="Search ..." style="margin-top: 10px;">' +
                                    options+
                                    '</select>');
                                $("#products-"+inventoryID).prop('selectedIndex', productIndex);
                                if (allProducts.length > 0) {
                                    addedProducts.push(allProducts[productIndex]);
                                }
                            }
                        }
                    });
                });
                $(".delete").on("click", function () {
                    var id = $(this).data('id');
                    currentProductID = parseInt(id);
                    $("#deleteModal").modal('show');
                });
            }
        });
    }

    function deleteProduct() {
        var fd = new FormData();
        fd.append("name", "outcomes");
        fd.append("id", currentProductID);
        $.ajax({
            type: 'POST',
            url: PHP_URL+'delete-by-id.php',
            data: fd,
            processData: false,
            contentType: false,
            cache: false,
            success: function(response) {
                getInventories();
            }
        });
    }

    function selectImage() {
        $("#select-image").on("change", function(e) {
            var input = e.target;
            imageFile = input.files[0];
            var reader = new FileReader();
            reader.onload = function() {
                $("#image").attr("src", reader.result);
            };
            reader.readAsDataURL(imageFile);
            imageChanged = 1;
        }).click();
    }

    function addProductSelectImage() {
        $("#add-product-select-image").on("change", function(e) {
            var input = e.target;
            imageFile = input.files[0];
            var reader = new FileReader();
            reader.onload = function() {
                $("#add-product-image").attr("src", reader.result);
            };
            reader.readAsDataURL(imageFile);
            imageChanged = 1;
        }).click();
    }

    function editProduct() {
        var name = $("#edit-inventory-name").val().trim();
        var price = parseInt($("#price").val().trim());
        var fd = new FormData();
        fd.append("id", currentProductID);
        fd.append("name", name);
        fd.append("price", price);
        fd.append("image_changed", imageChanged);
        fd.append("file", imageFile);
        $.ajax({
            type: 'POST',
            url: PHP_URL+'edit-product.php',
            data: fd,
            processData: false,
            contentType: false,
            cache: false,
            success: function(response) {
                getInventories();
            }
        });
    }

    function addProduct() {
        var options = "";
        for (var i=0; i<allProducts.length; i++) {
            var productJSON = allProducts[i];
            options += ("<option id='option-"+i+"'>"+productJSON["name"]+"</option>");
        }
        if (allProducts.length > 0) {
            addedProducts.push(allProducts[0]);
        }
        $("#products").append('<select id="products-'+$("#products").children().length+'" class="form-control products" data-toggle="select" title="Simple select" data-live-search="true" data-live-search-placeholder="Search ..." style="margin-top: 10px;">' +
            options+
            '</select>');
        $(".products").on('change', function() {
            var productsID = $(this).attr('id');
            var productsIndex = parseInt(productsID.substr(9, productsID.length));
            var productID = $(this).children(":selected").attr("id");
            var productIndex = parseInt(productID.substr(7, productID.length));
            addedProducts[productsIndex] = allProducts[productIndex];
        });
    }

    function editInventoryAddProduct() {
        var options = "";
        for (var i=0; i<allProducts.length; i++) {
            var productJSON = allProducts[i];
            options += ("<option id='option-"+i+"'>"+productJSON["name"]+"</option>");
        }
        if (allProducts.length > 0) {
            addedProducts.push(allProducts[0]);
        }
        $("#edit-inventory-products").append('<select id="products-'+$("#edit-inventory-products").children().length+'" class="form-control products" data-toggle="select" title="Simple select" data-live-search="true" data-live-search-placeholder="Search ..." style="margin-top: 10px;">' +
            options+
            '</select>');
        $(".products").on('change', function() {
            var productsID = $(this).attr('id');
            var productsIndex = parseInt(productsID.substr(9, productsID.length));
            var productID = $(this).children(":selected").attr("id");
            var productIndex = parseInt(productID.substr(7, productID.length));
            addedProducts[productsIndex] = allProducts[productIndex];
        });
    }

    function addInventory() {
        var amount = $("#amount").val().trim();
        var type = $("#type").prop('selectedIndex');
        if (type == 5) {
            type = 0;
        } else {
            type++;
        }
        var typeName = $("#type-name").val().trim();
        var hour = parseInt($("#hour").val().trim());
        var minute = parseInt($("#minute").val().trim());
        var timeString = "";
        if (hour < 10) {
            timeString += "0";
        }
        timeString += hour;
        timeString += ":";
        if (minute < 10) {
            timeString += "0";
        }
        timeString += minute;
        timeString += ":00";
        var date = moment($("#date").val().trim(), 'MM/DD/YYYY').format('YYYY-MM-DD')+" "+timeString;
        var fd = new FormData();
        fd.append("amount", amount);
        fd.append("type", type);
        fd.append("type_name", typeName);
        fd.append("date", date);
        $.ajax({
            type: 'POST',
            url: PHP_URL+'add-outcome.php',
            data: fd,
            processData: false,
            contentType: false,
            cache: false,
            success: function(response) {
                getInventories();
            }
        });
    }

    function showAddProductDialog() {
        $("#products").find("*").remove();
        addedProducts = [];
    }

    function editInventory() {
        console.log(addedProducts);
        var customerID = customers[$("#edit-inventory-customers").prop('selectedIndex')]["id"];
        var fd = new FormData();
        fd.append("id", currentProductID);
        fd.append("user_id", customerID);
        fd.append("products", JSON.stringify(addedProducts));
        var time = $("#edit-inventory-time").val().trim();
        if (!moment(time, 'HH:mm:ss', true).isValid()) {
            alert("Mohon masukkan format waktu dengan benar");
            return;
        }
        var date = moment($("#edit-inventory-date").val().trim(), 'MM/DD/YYYY').lang('id').format('YYYY-MM-DD')+" "+time;
        fd.append("date", date);
        var paid = $("#edit-inventory-paid").prop('selectedIndex');
        fd.append("paid", paid);
        $.ajax({
            type: 'POST',
            url: PHP_URL+'edit-inventory.php',
            data: fd,
            processData: false,
            contentType: false,
            cache: false,
            success: function(response) {
                console.log(response);
                getInventories();
            }
        });
    }
</script>
</body>

</html>
